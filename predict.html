<!DOCTYPE html>
<html>

<head>
    <title>ATR for SAR</title>
    <style>
        body {
            background-color: #f0f0f0; /* Set background color */
            padding: 20px; /* Add padding for content */
            text-align: center; /* Center-align content */
        }

        h1 {
            color: #333; /* Set color for headings */
        }

        .btn {
            background-color: #4CAF50; /* Green background color */
            border: none; /* Remove button border */
            color: white; /* Text color */
            padding: 15px 32px; /* Add padding */
            text-align: center; /* Center-align text */
            text-decoration: none; /* Remove text decoration */
            display: inline-block; /* Display as inline block */
            font-size: 24px; /* Set font size */
            margin: 4px 2px; /* Add margin */
            cursor: pointer; /* Add cursor pointer */
            border-radius: 12px; /* Add border radius */
        }

        .btn:hover {
            background-color: #45a049; /* Darken background color on hover */
        }

        * {
            font-size: 20px; /* Set font size for all elements */
        }

        .prediction-section {
            font-weight: bold;
            margin-top: 40px; /* Add more margin to separate prediction section from the button */
            text-align: center; /* Center-align prediction section */
        }

        .predicted-class {
            font-weight: bold; /* Make predicted class text bold */
        }

        .image-container {
            margin-top: 60px; /* Add margin to separate images */
            display: inline-block; /* Display images side by side */
            text-align: center; /* Center-align images */
        }

        .image-container img {
            max-width: 100%; /* Set maximum width for images */
        }

        .image-label {
            margin-top: 10px; /* Add margin above image labels */
        }
    </style>
</head>

<body>
    <h1 style="font-size: 16px; font-weight: bold;">SAR RECONNAISSANCE: UNVEILING TARGET RECOGNITION VIA PRETEXT AND DOWNSTREAM METHODOLOGIES</h1>


    <input id="image-selector" type="file" accept="image/jpeg, image/png, image/gif, image/bmp">


    <button id="predict-button" class="btn">Predict</button> <!-- Added class for colorful button -->

    <div class="prediction-section">
        <p>Prediction</p>



        <p>Class: <span class="predicted-class" id="class-prediction"></span></p>


        <div class="image-container">
            <img class="selected-image" id="selected-image" src="" />
            <p class="image-label">Uploaded Image</p>
        </div>
        <div class="image-container">
            <img class="predicted-image" id="predicted-image" src="" />
            <p class="image-label">Predicted Image</p>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script>
        let base64Image;
        $("#image-selector").change(function () {
            let reader = new FileReader();
            reader.onload = function (e) {
                let dataURL = reader.result;
                $('#selected-image').attr("src", dataURL);
                base64Image = dataURL.replace(/^data:image\/[a-z]+;base64,/, "");
                console.log(base64Image);
            }
            reader.readAsDataURL($("#image-selector")[0].files[0]);
            $("#class-prediction").text("");
            $("#predicted-image").attr("src", ""); // Clear the predicted class image
        });

        $("#predict-button").click(function () {
            let message = {
                image: base64Image
            }
            console.log(message);
            $.post("/predict", JSON.stringify(message), function (response) {
                $("#class-prediction").text(response.predicted_class);
                $("#predicted-image").attr("src", "data:image/jpeg;base64," + response.classified_image); // Set the predicted class image
                console.log(response);
            });
        });
    </script>
</body>

</html>
